<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="HCIA学习笔记(4/5)"><meta name="keywords" content="笔记,网络,HCIA,华为,网工"><meta name="author" content="来SC,undefined"><meta name="copyright" content="来SC"><title>HCIA学习笔记(4/5)【来SC】</title><link rel="stylesheet" href="/css/fan.css"><link rel="stylesheet" href="/css/thirdparty/jquery.mCustomScrollbar.min.css"><link rel="icon" href="/favicon.ico"><!-- script(src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML")--><script src="/js/mathjax/mathjax.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
});
</script><script>var isPassword = '' || false;
if (isPassword) {
    if (prompt('请输入文章密码') !== '') {
        alert('密码错误！');
        history.back();
    }
}</script><script>window.GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
}</script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="来SC" type="application/atom+xml">
</head><body><canvas id="universe"></canvas><!--#body--><div id="sidebar"><div class="toggle-sidebar-info button-hover"><span data-toggle="文章目录">站点概览</span></div><div class="sidebar-toc"><div class="sidebar-toc-title">目录</div><div class="sidebar-toc-progress"><span class="progress-notice">您已阅读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc-progress-bar"></div></div><div class="sidebar-toc-content" id="sidebar-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#HCIA学习笔记-4-5"><span class="toc-number">1.</span> <span class="toc-text">HCIA学习笔记(4&#x2F;5)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#OSPF-链路状态路由协议：开放式最短路径优先-OSPF-协议"><span class="toc-number">2.</span> <span class="toc-text">OSPF-链路状态路由协议：开放式最短路径优先(OSPF)协议</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#版本分为"><span class="toc-number">2.1.</span> <span class="toc-text">版本分为</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#链路状态信息LSA-Link-State"><span class="toc-number">2.2.</span> <span class="toc-text">链路状态信息LSA(Link State)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#链路状态数据库（LSDB）"><span class="toc-number">2.3.</span> <span class="toc-text">链路状态数据库（LSDB）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LSA泛洪"><span class="toc-number">2.4.</span> <span class="toc-text">LSA泛洪</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LSA协议工作方式"><span class="toc-number">2.5.</span> <span class="toc-text">LSA协议工作方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSPF报文封装在IP报文中，协议号为89"><span class="toc-number">2.6.</span> <span class="toc-text">OSPF报文封装在IP报文中，协议号为89</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSPF邻居状态机"><span class="toc-number">2.7.</span> <span class="toc-text">OSPF邻居状态机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Route-ID、邻居和邻接"><span class="toc-number">2.8.</span> <span class="toc-text">Route ID、邻居和邻接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSPF区域"><span class="toc-number">2.9.</span> <span class="toc-text">OSPF区域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#划分OSPF区域的目的"><span class="toc-number">2.10.</span> <span class="toc-text">划分OSPF区域的目的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DR邻接关系路由与BDR备份邻接关系路由选择条件"><span class="toc-number">2.11.</span> <span class="toc-text">DR邻接关系路由与BDR备份邻接关系路由选择条件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#为什么选择DR与BDR"><span class="toc-number">2.12.</span> <span class="toc-text">为什么选择DR与BDR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#邻居关系与邻接关系的区别"><span class="toc-number">2.13.</span> <span class="toc-text">邻居关系与邻接关系的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSPF路由协议相关命令"><span class="toc-number">2.14.</span> <span class="toc-text">OSPF路由协议相关命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#STP协议（生成树协议）"><span class="toc-number">3.</span> <span class="toc-text">STP协议（生成树协议）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#STP协议数据包"><span class="toc-number">3.1.</span> <span class="toc-text">STP协议数据包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#交换机环路引起的问题"><span class="toc-number">3.2.</span> <span class="toc-text">交换机环路引起的问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#STP作用："><span class="toc-number">3.3.</span> <span class="toc-text">STP作用：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#生成树的根被叫做根交换机，也叫根桥。"><span class="toc-number">3.4.</span> <span class="toc-text">生成树的根被叫做根交换机，也叫根桥。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#root-port-根端口选举-RP"><span class="toc-number">3.5.</span> <span class="toc-text">root port (根端口选举)RP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Desidnate-port（指定端口）DP"><span class="toc-number">3.6.</span> <span class="toc-text">Desidnate-port（指定端口）DP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Alternate-port堵塞端口（预备端口）AP"><span class="toc-number">3.7.</span> <span class="toc-text">Alternate-port堵塞端口（预备端口）AP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#STP工作原理"><span class="toc-number">3.8.</span> <span class="toc-text">STP工作原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#根桥选举规则"><span class="toc-number">3.9.</span> <span class="toc-text">根桥选举规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#根端口RD选举规则"><span class="toc-number">3.10.</span> <span class="toc-text">根端口RD选举规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#指定端口DP选举规则"><span class="toc-number">3.11.</span> <span class="toc-text">指定端口DP选举规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#交换机端口状态30秒构建生成树"><span class="toc-number">3.12.</span> <span class="toc-text">交换机端口状态30秒构建生成树</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#LAN局域网广播域"><span class="toc-number">4.</span> <span class="toc-text">LAN局域网广播域</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#VLAN-VLAN划分是基于交换机的接口的"><span class="toc-number">4.1.</span> <span class="toc-text">VLAN(VLAN划分是基于交换机的接口的)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看VLAN命令"><span class="toc-number">4.2.</span> <span class="toc-text">查看VLAN命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建VLAN命令"><span class="toc-number">4.3.</span> <span class="toc-text">创建VLAN命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#VLAN三种链路类型"><span class="toc-number">4.4.</span> <span class="toc-text">VLAN三种链路类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#划分端口到VLAN命令"><span class="toc-number">4.5.</span> <span class="toc-text">划分端口到VLAN命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#各链路类型对Tag处理"><span class="toc-number">4.6.</span> <span class="toc-text">各链路类型对Tag处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#允许数据包通过交换机间的链路"><span class="toc-number">4.7.</span> <span class="toc-text">允许数据包通过交换机间的链路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Trunk协议时数据包加tag及去tag标记命令"><span class="toc-number">4.8.</span> <span class="toc-text">Trunk协议时数据包加tag及去tag标记命令</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info-avatar"><img class="author-info-avatar-img" src="/avatar.png"></div><div class="author-info-name">来SC</div><div class="author-info-description"></div><div class="links-buttons"><a class="links-button button-hover" href="https://github.com/lsc183754539" target="_blank">GitHub<i class="icon-dot bg-color0"></i></a><a class="links-button button-hover" href="mailto:pasalai@qq.com" target="_blank">E-Mail<i class="icon-dot bg-color9"></i></a><a class="links-button button-hover" href="https://weibo.com/laishouchao/profile?rightmod=1&amp;wvr=6&amp;mod=personinfo" target="_blank">微博<i class="icon-dot bg-color7"></i></a></div><div class="author-info-articles"><a class="author-info-articles-archives article-meta" href="/archives"><span class="pull-top">日志</span><span class="pull-bottom">15</span></a><a class="author-info-articles-tags article-meta" href="/tags"><span class="pull-top">标签</span><span class="pull-bottom">33</span></a><a class="author-info-articles-categories article-meta" href="/categories"><span class="pull-top">分类</span><span class="pull-bottom">5</span></a></div><div class="friend-link"><a class="friend-link-text" href="https://github.com/laishouchao" target="_blank">GitHub1</a><a class="friend-link-text" href="https://github.com/lsc183754539" target="_blank">GitHub2</a><a class="friend-link-text" href="http://blog.wanqqq29.cn/" target="_blank">wanqqq29_blog</a></div></div></div><div id="main-container"><header><div id="menu-outer"><i class="menu-list-icon fas fa-bars"></i><nav id="menu-inner"><a class="menu-item" href="/">首页</a><a class="menu-item" href="/tags">标签</a><a class="menu-item" href="/categories">分类</a><a class="menu-item" href="/archives">归档</a><a class="menu-item" href="/about">关于</a></nav><div class="right-info"><a class="title-name" href="/">来SC</a><span id="now-time"></span></div></div></header><div id="content-outer"><div id="content-inner"><article id="post"><div class="post-header"><div class="title">HCIA学习笔记(4/5)</div><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 发表于 2019-12-31 | 更新于 2020-03-19</time><!--time.button-hover.post-date #[i.fas.fa-calendar-alt.article-icon(aria-hidden="true")] #[=__('post.modified')] #[=date(page['updated'], config.date_format)]--><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/%E7%BD%91%E7%BB%9C/">网络</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/HCIA/">HCIA</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/%E5%8D%8E%E4%B8%BA/">华为</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/%E7%BD%91%E5%B7%A5/">网工</a></div></div></div><div class="main-content"><h1 id="HCIA学习笔记-4-5"><a href="#HCIA学习笔记-4-5" class="headerlink" title="HCIA学习笔记(4/5)"></a>HCIA学习笔记(4/5)</h1><h1 id="OSPF-链路状态路由协议：开放式最短路径优先-OSPF-协议"><a href="#OSPF-链路状态路由协议：开放式最短路径优先-OSPF-协议" class="headerlink" title="OSPF-链路状态路由协议：开放式最短路径优先(OSPF)协议"></a>OSPF-链路状态路由协议：开放式最短路径优先(OSPF)协议</h1><h2 id="版本分为"><a href="#版本分为" class="headerlink" title="版本分为"></a>版本分为</h2><ul>
<li>v2适用于IPv4</li>
<li>v3适用于IPv6<h2 id="链路状态信息LSA-Link-State"><a href="#链路状态信息LSA-Link-State" class="headerlink" title="链路状态信息LSA(Link State)"></a>链路状态信息LSA(Link State)</h2></li>
<li>链路类型</li>
<li>链路开销</li>
<li>链路接口IP</li>
<li>链路接口子网掩码</li>
<li>链路上的路由器<h2 id="链路状态数据库（LSDB）"><a href="#链路状态数据库（LSDB）" class="headerlink" title="链路状态数据库（LSDB）"></a>链路状态数据库（LSDB）</h2></li>
<li>保存链路状态信息<a id="more"></a>
<h2 id="LSA泛洪"><a href="#LSA泛洪" class="headerlink" title="LSA泛洪"></a>LSA泛洪</h2></li>
<li>同步了链路数据库LSDB,同步了路由表<h2 id="LSA协议工作方式"><a href="#LSA协议工作方式" class="headerlink" title="LSA协议工作方式"></a>LSA协议工作方式</h2></li>
<li>LSA泛洪</li>
<li>同步LSA</li>
<li>计算LSA<h2 id="OSPF报文封装在IP报文中，协议号为89"><a href="#OSPF报文封装在IP报文中，协议号为89" class="headerlink" title="OSPF报文封装在IP报文中，协议号为89"></a>OSPF报文封装在IP报文中，协议号为89</h2>##OSPF报文类型</li>
<li>Hello报文：发现ospf邻居，协商OSPF邻居，建立OSPF邻居，维护OSPF邻居(周期性的发包)</li>
<li>DD(database description)数据库描述报文：互相描述数据库</li>
<li>LSR(LSA Request)报文:用于请求同步</li>
<li>LSU(LSA Updata):更新，用于同步数据库</li>
<li>LSACK(LSA Acknowledgement)报文:用于确认数据库同步<h2 id="OSPF邻居状态机"><a href="#OSPF邻居状态机" class="headerlink" title="OSPF邻居状态机"></a>OSPF邻居状态机</h2></li>
<li>作用：标识OSPF工作在那个阶段</li>
<li><img src="https://i.jpg.dog/img/c7d7e46c38d6107b700910f58645444c.png" alt="OSPF邻居状态机"></li>
</ul>
<h2 id="Route-ID、邻居和邻接"><a href="#Route-ID、邻居和邻接" class="headerlink" title="Route ID、邻居和邻接"></a>Route ID、邻居和邻接</h2><p>routeID格式类似于IP地址，若不指定，则OSPF自动选择一个接口IP地址作为routeID</p>
<h2 id="OSPF区域"><a href="#OSPF区域" class="headerlink" title="OSPF区域"></a>OSPF区域</h2><p><img src="https://i.jpg.dog/img/7ce4365a43c9a29295f684f7ff41e2a8.png" alt="OSPF区域"></p>
<ul>
<li>每个区域都维护一个独立的LSDB</li>
<li>Area 0 是骨干区域，其他区域都必须于此区域相连</li>
<li>区域是基于路由器接口划分的</li>
<li>RTA、RTB、RTC这种位于区域边界的路由器也被叫做区域边界路由器（ABR）</li>
<li>AS边界路由器叫做ASBR，用BGP协议连接路由</li>
</ul>
<h2 id="划分OSPF区域的目的"><a href="#划分OSPF区域的目的" class="headerlink" title="划分OSPF区域的目的"></a>划分OSPF区域的目的</h2><ul>
<li>减小LSDB</li>
<li>减轻路由器的压力<h2 id="DR邻接关系路由与BDR备份邻接关系路由选择条件"><a href="#DR邻接关系路由与BDR备份邻接关系路由选择条件" class="headerlink" title="DR邻接关系路由与BDR备份邻接关系路由选择条件"></a>DR邻接关系路由与BDR备份邻接关系路由选择条件</h2></li>
<li>优先级小的优先，默认全为1</li>
<li>优先级相同时，路由ID越大的优先<h2 id="为什么选择DR与BDR"><a href="#为什么选择DR与BDR" class="headerlink" title="为什么选择DR与BDR"></a>为什么选择DR与BDR</h2></li>
<li>减少LSA泛洪</li>
<li>减少邻接关系<h2 id="邻居关系与邻接关系的区别"><a href="#邻居关系与邻接关系的区别" class="headerlink" title="邻居关系与邻接关系的区别"></a>邻居关系与邻接关系的区别</h2></li>
<li>是否直接同步数据库</li>
<li>选举DR/BDR是基于路由器接口来选的</li>
<li>DR有不可抢占性。<h2 id="OSPF路由协议相关命令"><a href="#OSPF路由协议相关命令" class="headerlink" title="OSPF路由协议相关命令"></a>OSPF路由协议相关命令</h2><pre>
ospf route-id 1.1.1.1
area 0
network 10.1.1.0 0.0.0.255
network 172.16.1.0 0.0.0.255
network 192.168.1.0 0.0.0.255
display ospf pear brief //查看所有OSPF邻居关系
display ospf interface gigabitethernet 0/0/0 //查看是否为DR
在某端口下：ospf dr-priority 100 //更改路由器端口选举DR的优先级（注意，DR确认后有不可抢夺性）
</pre>

</li>
</ul>
<h1 id="STP协议（生成树协议）"><a href="#STP协议（生成树协议）" class="headerlink" title="STP协议（生成树协议）"></a>STP协议（生成树协议）</h1><ul>
<li>RSTP:快速生成树协议</li>
<li>MSTP:多生成树协议,默认运行的协议<h2 id="STP协议数据包"><a href="#STP协议数据包" class="headerlink" title="STP协议数据包"></a>STP协议数据包</h2></li>
<li>BPDU桥协议数据单元<h2 id="交换机环路引起的问题"><a href="#交换机环路引起的问题" class="headerlink" title="交换机环路引起的问题"></a>交换机环路引起的问题</h2></li>
<li>广播风暴：交换机环路。</li>
<li>MAC地址表震荡<h2 id="STP作用："><a href="#STP作用：" class="headerlink" title="STP作用："></a>STP作用：</h2></li>
<li>通过阻塞交换机的冗余端口达到防环的目的，并且实现链路备份<h2 id="生成树的根被叫做根交换机，也叫根桥。"><a href="#生成树的根被叫做根交换机，也叫根桥。" class="headerlink" title="生成树的根被叫做根交换机，也叫根桥。"></a>生成树的根被叫做根交换机，也叫根桥。</h2><h2 id="root-port-根端口选举-RP"><a href="#root-port-根端口选举-RP" class="headerlink" title="root port (根端口选举)RP"></a>root port (根端口选举)RP</h2></li>
<li>非根交换机连接根交换机最优的端口</li>
<li>一台非根交换机只有一个非根端口<h2 id="Desidnate-port（指定端口）DP"><a href="#Desidnate-port（指定端口）DP" class="headerlink" title="Desidnate-port（指定端口）DP"></a>Desidnate-port（指定端口）DP</h2></li>
<li>交换机与交换机间链路到达根交换机最优的接口。<h2 id="Alternate-port堵塞端口（预备端口）AP"><a href="#Alternate-port堵塞端口（预备端口）AP" class="headerlink" title="Alternate-port堵塞端口（预备端口）AP"></a>Alternate-port堵塞端口（预备端口）AP</h2></li>
<li>既不是根端口也不是指定端口，则是预备端口，将被阻塞，不进行通信。</li>
</ul>
<h2 id="STP工作原理"><a href="#STP工作原理" class="headerlink" title="STP工作原理"></a>STP工作原理</h2><ol>
<li>选举根交换机（根桥）</li>
<li>每个非根桥交换机选举一个根端口</li>
<li>每个网段选举一个指定端口</li>
</ol>
<h2 id="根桥选举规则"><a href="#根桥选举规则" class="headerlink" title="根桥选举规则"></a>根桥选举规则</h2><ul>
<li>优先级越小越优先，默认32768，可以修改，只能改成4096的倍数，且范围在0-65535之间，BID桥ID</li>
<li>交换机MAC地址，越小越优先<h2 id="根端口RD选举规则"><a href="#根端口RD选举规则" class="headerlink" title="根端口RD选举规则"></a>根端口RD选举规则</h2></li>
<li>根据路径开销越小越优先：百兆20W   千兆2W    </li>
<li>比较对端的桥ID，越小越优先</li>
<li>比较对端的PID,越小越优先(PID：端口优先级+端口号,优先级默认128,范围0-240,步长16）<h2 id="指定端口DP选举规则"><a href="#指定端口DP选举规则" class="headerlink" title="指定端口DP选举规则"></a>指定端口DP选举规则</h2></li>
<li>根路径开销，越小越优先</li>
<li>比较两端桥ID，越小越优先</li>
<li>比较本端的PID，越小越优先<h2 id="交换机端口状态30秒构建生成树"><a href="#交换机端口状态30秒构建生成树" class="headerlink" title="交换机端口状态30秒构建生成树"></a>交换机端口状态30秒构建生成树</h2></li>
<li>listening    侦听    15秒</li>
<li>learning 学习    15秒</li>
<li>根端口    forwarding    转发</li>
<li>指定端口    forwarding    </li>
<li>预备端口    discard ing    关闭</li>
</ul>
<h1 id="LAN局域网广播域"><a href="#LAN局域网广播域" class="headerlink" title="LAN局域网广播域"></a>LAN局域网广播域</h1><h2 id="VLAN-VLAN划分是基于交换机的接口的"><a href="#VLAN-VLAN划分是基于交换机的接口的" class="headerlink" title="VLAN(VLAN划分是基于交换机的接口的)"></a>VLAN(VLAN划分是基于交换机的接口的)</h2><ul>
<li>逻辑VLAN</li>
<li>虚拟VLAN<h2 id="查看VLAN命令"><a href="#查看VLAN命令" class="headerlink" title="查看VLAN命令"></a>查看VLAN命令</h2><pre>
display vlan
display port vlan 
</pre>
<h2 id="创建VLAN命令"><a href="#创建VLAN命令" class="headerlink" title="创建VLAN命令"></a>创建VLAN命令</h2><pre>
vlan batch 10 20 30 //批量创建VLAN
vlan 40 //创建vlan并进入该vlan设置
</pre>
<h2 id="VLAN三种链路类型"><a href="#VLAN三种链路类型" class="headerlink" title="VLAN三种链路类型"></a>VLAN三种链路类型</h2></li>
<li>Hybrid:华为独有，接入链接通用</li>
<li>access:接入PC时的端口</li>
<li>trunk:交换机之间的链接<h2 id="划分端口到VLAN命令"><a href="#划分端口到VLAN命令" class="headerlink" title="划分端口到VLAN命令"></a>划分端口到VLAN命令</h2></li>
<li>access：<pre><br>port link-type access<br>port defult vlan 10<br></pre></li>
<li>trunk:<pre><br>port link-type trunk<br>port trunk pvid vlan 10<br></pre></li>
<li>hybrid:<pre><br>port link-type<br>port hybrid pvid vlan 10<br></pre></li>
</ul>
<h2 id="各链路类型对Tag处理"><a href="#各链路类型对Tag处理" class="headerlink" title="各链路类型对Tag处理"></a>各链路类型对Tag处理</h2><p><img src="https://i.jpg.dog/img/971fe11d497a9d1c0bb4cc1c334d59b0.png" alt="各链路类型对Tag处理"></p>
<h2 id="允许数据包通过交换机间的链路"><a href="#允许数据包通过交换机间的链路" class="headerlink" title="允许数据包通过交换机间的链路"></a>允许数据包通过交换机间的链路</h2><pre>port trunk allow-pass vlan 10 20</pre> 

<h2 id="Trunk协议时数据包加tag及去tag标记命令"><a href="#Trunk协议时数据包加tag及去tag标记命令" class="headerlink" title="Trunk协议时数据包加tag及去tag标记命令"></a>Trunk协议时数据包加tag及去tag标记命令</h2><pre>
port hybried tagged vlan 10 20 //加tag
port hybried tagged vlan 10 20 //去tag
</pre></div><div class="post-copyright"><div class="post-copyright-author"><span class="post-copyright-meta">本文作者: </span><span class="post-copyright-info"><a href="mailto:undefined">来SC</a></span></div><div class="post-copyright-type"><span class="post-copyright-meta">本文链接: </span><span class="post-copyright-info"><a href="https://www.sdyunet.com/2019/12/31/HCIA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B04/">https://www.sdyunet.com/2019/12/31/HCIA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B04/</a></span></div><div class="post-copyright-notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.sdyunet.com">来SC</a>！</span></div></div></article><div id="pagination"><div class="prev-post pull-left"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/2020/01/03/HCIA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B05/"><i class="fas fa-angle-left">&nbsp;</i><span>HCIA学习笔记(5/5)</span></a></div><div class="next-post pull-right"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/2019/12/30/HCIA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B03/"><span>HCIA学习笔记(3/5)</span><span>&nbsp;</span><i class="fas fa-angle-right"></i></a></div></div><!--div!= paginator()--></div></div><div class="button-hover" id="return-top"><i class="fas fa-arrow-up" aria-hidden="true"></i></div><footer><div id="footer"><div class="button-hover" id="side-button"><i class="fas fa-arrow-right"></i></div><div class="right-content"><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fas fa-file-o"></i></span><span id="busuanzi_value_page_pv"></span><span></span></div><div class="copyright">&copy;2019 ～ 2020 By 来SC</div></div></div></footer></div><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery-3.3.1.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/velocity.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery.mCustomScrollbar.concat.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/fan.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/canvas_bg.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/utils.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/scroll.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/sidebar.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/copy.js"></script><!--script(src=url)--></body></html>